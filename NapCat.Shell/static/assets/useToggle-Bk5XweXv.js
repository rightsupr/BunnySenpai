import{aE as Fe,aF as H,aG as j,aV as Ce,aL as L,aH as $e,aI as h,aJ as ge,aK as Me,aM as x,aN as P,aO as De,O as M,aP as ye,_ as se,A as Oe,D as Ie,aQ as Pe,X as He,aR as Ee,aS as W,Q as Ue,bz as Be}from"./index-CccuTvbI.js";import{r as E,R as me}from"./react-router-dom-BuK5Vxqh.js";import{b as oe}from"./openLink-DRU7_5Wb.js";function Te(e){let t=e;return t.nativeEvent=e,t.isDefaultPrevented=()=>t.defaultPrevented,t.isPropagationStopped=()=>t.cancelBubble,t.persist=()=>{},t}function Ae(e,t){Object.defineProperty(e,"target",{value:t}),Object.defineProperty(e,"currentTarget",{value:t})}function Re(e){let t=E.useRef({isFocused:!1,observer:null});Ce(()=>{const n=t.current;return()=>{n.observer&&(n.observer.disconnect(),n.observer=null)}},[]);let a=L(n=>{e==null||e(n)});return E.useCallback(n=>{if(n.target instanceof HTMLButtonElement||n.target instanceof HTMLInputElement||n.target instanceof HTMLTextAreaElement||n.target instanceof HTMLSelectElement){t.current.isFocused=!0;let o=n.target,d=c=>{if(t.current.isFocused=!1,o.disabled){let f=Te(c);a(f)}t.current.observer&&(t.current.observer.disconnect(),t.current.observer=null)};o.addEventListener("focusout",d,{once:!0}),t.current.observer=new MutationObserver(()=>{if(t.current.isFocused&&o.disabled){var c;(c=t.current.observer)===null||c===void 0||c.disconnect();let f=o===document.activeElement?null:document.activeElement;o.dispatchEvent(new FocusEvent("blur",{relatedTarget:f})),o.dispatchEvent(new FocusEvent("focusout",{bubbles:!0,relatedTarget:f}))}}),t.current.observer.observe(o,{attributes:!0,attributeFilter:["disabled"]})}},[a])}let N=!1;function je(e){for(;e&&!Fe(e);)e=e.parentElement;let t=H(e),a=t.document.activeElement;if(!a||a===e)return;N=!0;let n=!1,o=p=>{(p.target===a||n)&&p.stopImmediatePropagation()},d=p=>{(p.target===a||n)&&(p.stopImmediatePropagation(),!e&&!n&&(n=!0,j(a),u()))},c=p=>{(p.target===e||n)&&p.stopImmediatePropagation()},f=p=>{(p.target===e||n)&&(p.stopImmediatePropagation(),n||(n=!0,j(a),u()))};t.addEventListener("blur",o,!0),t.addEventListener("focusout",d,!0),t.addEventListener("focusin",f,!0),t.addEventListener("focus",c,!0);let u=()=>{cancelAnimationFrame(m),t.removeEventListener("blur",o,!0),t.removeEventListener("focusout",d,!0),t.removeEventListener("focusin",f,!0),t.removeEventListener("focus",c,!0),N=!1,n=!1},m=requestAnimationFrame(u);return u}let O="default",ee="",Y=new WeakMap;function _e(e){if($e()){if(O==="default"){const t=h(e);ee=t.documentElement.style.webkitUserSelect,t.documentElement.style.webkitUserSelect="none"}O="disabled"}else if(e instanceof HTMLElement||e instanceof SVGElement){let t="userSelect"in e.style?"userSelect":"webkitUserSelect";Y.set(e,e.style[t]),e.style[t]="none"}}function le(e){if($e()){if(O!=="disabled")return;O="restoring",setTimeout(()=>{ge(()=>{if(O==="restoring"){const t=h(e);t.documentElement.style.webkitUserSelect==="none"&&(t.documentElement.style.webkitUserSelect=ee||""),ee="",O="default"}})},300)}else if((e instanceof HTMLElement||e instanceof SVGElement)&&e&&Y.has(e)){let t=Y.get(e),a="userSelect"in e.style?"userSelect":"webkitUserSelect";e.style[a]==="none"&&(e.style[a]=t),e.getAttribute("style")===""&&e.removeAttribute("style"),Y.delete(e)}}const he=me.createContext({register:()=>{}});he.displayName="PressResponderContext";function Ge(e){let t=E.useContext(he);if(t){let{register:a,...n}=t;e=M(n,e),a()}return ye(t,e.ref),e}var V=new WeakMap;class X{continuePropagation(){se(this,V,!1)}get shouldStopPropagation(){return Oe(this,V)}constructor(t,a,n,o){Ie(this,V,{writable:!0,value:void 0}),se(this,V,!0);var d;let c=(d=o==null?void 0:o.target)!==null&&d!==void 0?d:n.currentTarget;const f=c==null?void 0:c.getBoundingClientRect();let u,m=0,p,T=null;n.clientX!=null&&n.clientY!=null&&(p=n.clientX,T=n.clientY),f&&(p!=null&&T!=null?(u=p-f.left,m=T-f.top):(u=f.width/2,m=f.height/2)),this.type=t,this.pointerType=a,this.target=n.currentTarget,this.shiftKey=n.shiftKey,this.metaKey=n.metaKey,this.ctrlKey=n.ctrlKey,this.altKey=n.altKey,this.x=u,this.y=m}}const ce=Symbol("linkClicked"),fe="react-aria-pressable-style",ue="data-react-aria-pressable";function de(e){let{onPress:t,onPressChange:a,onPressStart:n,onPressEnd:o,onPressUp:d,onClick:c,isDisabled:f,isPressed:u,preventFocusOnPress:m,shouldCancelOnPointerExit:p,allowTextSelectionOnPress:T,ref:U,...Q}=Ge(e),[q,G]=E.useState(!1),k=E.useRef({isPressed:!1,ignoreEmulatedMouseEvents:!1,didFirePressStart:!1,isTriggeringEvent:!1,activePointerId:null,target:null,isOverTarget:!1,pointerType:null,disposables:[]}),{addGlobalListener:w,removeAllGlobalListeners:B}=Me(),K=L((r,l)=>{let $=k.current;if(f||$.didFirePressStart)return!1;let i=!0;if($.isTriggeringEvent=!0,n){let v=new X("pressstart",l,r);n(v),i=v.shouldStopPropagation}return a&&a(!0),$.isTriggeringEvent=!1,$.didFirePressStart=!0,G(!0),i}),g=L((r,l,$=!0)=>{let i=k.current;if(!i.didFirePressStart)return!1;i.didFirePressStart=!1,i.isTriggeringEvent=!0;let v=!0;if(o){let s=new X("pressend",l,r);o(s),v=s.shouldStopPropagation}if(a&&a(!1),G(!1),t&&$&&!f){let s=new X("press",l,r);t(s),v&&(v=s.shouldStopPropagation)}return i.isTriggeringEvent=!1,v}),A=L((r,l)=>{let $=k.current;if(f)return!1;if(d){$.isTriggeringEvent=!0;let i=new X("pressup",l,r);return d(i),$.isTriggeringEvent=!1,i.shouldStopPropagation}return!0}),F=L(r=>{let l=k.current;if(l.isPressed&&l.target){l.didFirePressStart&&l.pointerType!=null&&g(C(l.target,r),l.pointerType,!1),l.isPressed=!1,l.isOverTarget=!1,l.activePointerId=null,l.pointerType=null,B(),T||le(l.target);for(let $ of l.disposables)$();l.disposables=[]}}),ae=L(r=>{p&&F(r)}),J=L(r=>{c==null||c(r)}),ie=L((r,l)=>{if(c){let $=new MouseEvent("click",r);Ae($,l),c(Te($))}}),Ke=E.useMemo(()=>{let r=k.current,l={onKeyDown(i){if(Z(i.nativeEvent,i.currentTarget)&&x(i.currentTarget,P(i.nativeEvent))){var v;pe(P(i.nativeEvent),i.key)&&i.preventDefault();let s=!0;if(!r.isPressed&&!i.repeat){r.target=i.currentTarget,r.isPressed=!0,r.pointerType="keyboard",s=K(i,"keyboard");let b=i.currentTarget,y=S=>{Z(S,b)&&!S.repeat&&x(b,P(S))&&r.target&&A(C(r.target,S),"keyboard")};w(h(i.currentTarget),"keyup",He(y,$),!0)}s&&i.stopPropagation(),i.metaKey&&Ee()&&((v=r.metaKeyEvents)===null||v===void 0||v.set(i.key,i.nativeEvent))}else i.key==="Meta"&&(r.metaKeyEvents=new Map)},onClick(i){if(!(i&&!x(i.currentTarget,P(i.nativeEvent)))&&i&&i.button===0&&!r.isTriggeringEvent&&!oe.isOpening){let v=!0;if(f&&i.preventDefault(),!r.ignoreEmulatedMouseEvents&&!r.isPressed&&(r.pointerType==="virtual"||Pe(i.nativeEvent))){let s=K(i,"virtual"),b=A(i,"virtual"),y=g(i,"virtual");J(i),v=s&&b&&y}else if(r.isPressed&&r.pointerType!=="keyboard"){let s=r.pointerType||i.nativeEvent.pointerType||"virtual",b=A(C(i.currentTarget,i),s),y=g(C(i.currentTarget,i),s,!0);v=b&&y,r.isOverTarget=!1,J(i),F(i)}r.ignoreEmulatedMouseEvents=!1,v&&i.stopPropagation()}}},$=i=>{var v;if(r.isPressed&&r.target&&Z(i,r.target)){var s;pe(P(i),i.key)&&i.preventDefault();let y=P(i),S=x(r.target,P(i));g(C(r.target,i),"keyboard",S),S&&ie(i,r.target),B(),i.key!=="Enter"&&re(r.target)&&x(r.target,y)&&!i[ce]&&(i[ce]=!0,oe(r.target,i,!1)),r.isPressed=!1,(s=r.metaKeyEvents)===null||s===void 0||s.delete(i.key)}else if(i.key==="Meta"&&(!((v=r.metaKeyEvents)===null||v===void 0)&&v.size)){var b;let y=r.metaKeyEvents;r.metaKeyEvents=void 0;for(let S of y.values())(b=r.target)===null||b===void 0||b.dispatchEvent(new KeyboardEvent("keyup",S))}};if(typeof PointerEvent<"u"){l.onPointerDown=s=>{if(s.button!==0||!x(s.currentTarget,P(s.nativeEvent)))return;if(De(s.nativeEvent)){r.pointerType="virtual";return}r.pointerType=s.pointerType;let b=!0;if(!r.isPressed){r.isPressed=!0,r.isOverTarget=!0,r.activePointerId=s.pointerId,r.target=s.currentTarget,T||_e(r.target),b=K(s,r.pointerType);let y=P(s.nativeEvent);"releasePointerCapture"in y&&y.releasePointerCapture(s.pointerId),w(h(s.currentTarget),"pointerup",i,!1),w(h(s.currentTarget),"pointercancel",v,!1)}b&&s.stopPropagation()},l.onMouseDown=s=>{if(x(s.currentTarget,P(s.nativeEvent))&&s.button===0){if(m){let b=je(s.target);b&&r.disposables.push(b)}s.stopPropagation()}},l.onPointerUp=s=>{!x(s.currentTarget,P(s.nativeEvent))||r.pointerType==="virtual"||s.button===0&&!r.isPressed&&A(s,r.pointerType||s.pointerType)},l.onPointerEnter=s=>{s.pointerId===r.activePointerId&&r.target&&!r.isOverTarget&&r.pointerType!=null&&(r.isOverTarget=!0,K(C(r.target,s),r.pointerType))},l.onPointerLeave=s=>{s.pointerId===r.activePointerId&&r.target&&r.isOverTarget&&r.pointerType!=null&&(r.isOverTarget=!1,g(C(r.target,s),r.pointerType,!1),ae(s))};let i=s=>{if(s.pointerId===r.activePointerId&&r.isPressed&&s.button===0&&r.target){if(x(r.target,P(s))&&r.pointerType!=null){let b=!1,y=setTimeout(()=>{r.isPressed&&r.target instanceof HTMLElement&&(b?F(s):(j(r.target),r.target.click()))},80);w(s.currentTarget,"click",()=>b=!0,!0),r.disposables.push(()=>clearTimeout(y))}else F(s);r.isOverTarget=!1}},v=s=>{F(s)};l.onDragStart=s=>{x(s.currentTarget,P(s.nativeEvent))&&F(s)}}return l},[w,f,m,B,T,F,ae,g,K,A,J,ie]);return E.useEffect(()=>{if(!U)return;const r=h(U.current);if(!r||!r.head||r.getElementById(fe))return;const l=r.createElement("style");l.id=fe,l.textContent=`
@layer {
  [${ue}] {
    touch-action: pan-x pan-y pinch-zoom;
  }
}
    `.trim(),r.head.prepend(l)},[U]),E.useEffect(()=>{let r=k.current;return()=>{var l;T||le((l=r.target)!==null&&l!==void 0?l:void 0);for(let $ of r.disposables)$();r.disposables=[]}},[T]),{isPressed:u||q,pressProps:M(Q,Ke,{[ue]:!0})}}function re(e){return e.tagName==="A"&&e.hasAttribute("href")}function Z(e,t){const{key:a,code:n}=e,o=t,d=o.getAttribute("role");return(a==="Enter"||a===" "||a==="Spacebar"||n==="Space")&&!(o instanceof H(o).HTMLInputElement&&!xe(o,a)||o instanceof H(o).HTMLTextAreaElement||o.isContentEditable)&&!((d==="link"||!d&&re(o))&&a!=="Enter")}function C(e,t){let a=t.clientX,n=t.clientY;return{currentTarget:e,shiftKey:t.shiftKey,ctrlKey:t.ctrlKey,metaKey:t.metaKey,altKey:t.altKey,clientX:a,clientY:n}}function Ve(e){return e instanceof HTMLInputElement?!1:e instanceof HTMLButtonElement?e.type!=="submit"&&e.type!=="reset":!re(e)}function pe(e,t){return e instanceof HTMLInputElement?!xe(e,t):Ve(e)}const Xe=new Set(["checkbox","radio","range","color","file","image","button","submit","reset"]);function xe(e,t){return e.type==="checkbox"||e.type==="radio"?t===" ":Xe.has(e.type)}let _=null,Ye=new Set,R=new Map,D=!1,te=!1;function ne(e,t){for(let a of Ye)a(e,t)}function We(e){return!(e.metaKey||!Ee()&&e.altKey||e.ctrlKey||e.key==="Control"||e.key==="Shift"||e.key==="Meta")}function z(e){D=!0,We(e)&&(_="keyboard",ne("keyboard",e))}function I(e){_="pointer",(e.type==="mousedown"||e.type==="pointerdown")&&(D=!0,ne("pointer",e))}function Se(e){Pe(e)&&(D=!0,_="virtual")}function ke(e){e.target===window||e.target===document||N||!e.isTrusted||(!D&&!te&&(_="virtual",ne("virtual",e)),D=!1,te=!1)}function Le(){N||(D=!1,te=!0)}function ve(e){if(typeof window>"u"||typeof document>"u"||R.get(H(e)))return;const t=H(e),a=h(e);let n=t.HTMLElement.prototype.focus;t.HTMLElement.prototype.focus=function(){D=!0,n.apply(this,arguments)},a.addEventListener("keydown",z,!0),a.addEventListener("keyup",z,!0),a.addEventListener("click",Se,!0),t.addEventListener("focus",ke,!0),t.addEventListener("blur",Le,!1),typeof PointerEvent<"u"&&(a.addEventListener("pointerdown",I,!0),a.addEventListener("pointermove",I,!0),a.addEventListener("pointerup",I,!0)),t.addEventListener("beforeunload",()=>{we(e)},{once:!0}),R.set(t,{focus:n})}const we=(e,t)=>{const a=H(e),n=h(e);t&&n.removeEventListener("DOMContentLoaded",t),R.has(a)&&(a.HTMLElement.prototype.focus=R.get(a).focus,n.removeEventListener("keydown",z,!0),n.removeEventListener("keyup",z,!0),n.removeEventListener("click",Se,!0),a.removeEventListener("focus",ke,!0),a.removeEventListener("blur",Le,!1),typeof PointerEvent<"u"&&(n.removeEventListener("pointerdown",I,!0),n.removeEventListener("pointermove",I,!0),n.removeEventListener("pointerup",I,!0)),R.delete(a))};function Ne(e){const t=h(e);let a;return t.readyState!=="loading"?ve(e):(a=()=>{ve(e)},t.addEventListener("DOMContentLoaded",a)),()=>we(e,a)}typeof document<"u"&&Ne();function ze(){return _}function Qe(e){const t=h(e),a=W(t);if(ze()==="virtual"){let n=a;ge(()=>{W(t)===n&&e.isConnected&&j(e)})}else j(e)}function qe(e){let{isDisabled:t,onFocus:a,onBlur:n,onFocusChange:o}=e;const d=E.useCallback(u=>{if(u.target===u.currentTarget)return n&&n(u),o&&o(!1),!0},[n,o]),c=Re(d),f=E.useCallback(u=>{const m=h(u.target),p=m?W(m):W();u.target===u.currentTarget&&p===P(u.nativeEvent)&&(a&&a(u),o&&o(!0),c(u))},[o,a,c]);return{focusProps:{onFocus:!t&&(a||o||n)?f:void 0,onBlur:!t&&(n||o)?d:void 0}}}function be(e){if(!e)return;let t=!0;return a=>{let n={...a,preventDefault(){a.preventDefault()},isDefaultPrevented(){return a.isDefaultPrevented()},stopPropagation(){t=!0},continuePropagation(){t=!1},isPropagationStopped(){return t}};e(n),t&&a.stopPropagation()}}function Je(e){return{keyboardProps:e.isDisabled?{}:{onKeyDown:be(e.onKeyDown),onKeyUp:be(e.onKeyUp)}}}let Ze=me.createContext(null);function et(e){let t=E.useContext(Ze)||{};ye(t,e);let{ref:a,...n}=t;return n}function tt(e,t){let{focusProps:a}=qe(e),{keyboardProps:n}=Je(e),o=M(a,n),d=et(t),c=e.isDisabled?{}:d,f=E.useRef(e.autoFocus);E.useEffect(()=>{f.current&&t.current&&Qe(t.current),f.current=!1},[t]);let u=e.excludeFromTabOrder?-1:0;return e.isDisabled&&(u=void 0),{focusableProps:M({...o,tabIndex:u},c)}}function it(e,t,a){let{isDisabled:n=!1,isReadOnly:o=!1,value:d,name:c,children:f,"aria-label":u,"aria-labelledby":m,validationState:p="valid",isInvalid:T}=e,U=g=>{g.stopPropagation(),t.setSelected(g.target.checked)},{pressProps:Q,isPressed:q}=de({isDisabled:n}),{pressProps:G,isPressed:k}=de({onPress(){var g;t.toggle(),(g=a.current)===null||g===void 0||g.focus()},isDisabled:n||o}),{focusableProps:w}=tt(e,a),B=M(Q,w),K=Ue(e,{labelable:!0});return Be(a,t.isSelected,t.setSelected),{labelProps:M(G,{onClick:g=>g.preventDefault()}),inputProps:M(K,{"aria-invalid":T||p==="invalid"||void 0,"aria-errormessage":e["aria-errormessage"],"aria-controls":e["aria-controls"],"aria-readonly":o||void 0,onChange:U,disabled:n,...d==null?{}:{value:d},name:c,type:"checkbox",...B}),isSelected:t.isSelected,isPressed:q||k,isDisabled:n,isReadOnly:o,isInvalid:T||p==="invalid"}}export{it as $};
